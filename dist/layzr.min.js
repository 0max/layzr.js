/*!
 * Layzr.js 2.0.4 - A small, fast, and modern library for lazy loading images.
 * Copyright (c) 2016 Michael Cavalea - http://callmecavs.github.io/layzr.js/
 * License: GPL-3.0
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("knot.js")):"function"==typeof define&&define.amd?define(["knot.js"],e):t.Layzr=e(t.knot)}(this,function(t){"use strict";t="default"in t?t["default"]:t;var e=function(){function e(){return window.scrollY||window.pageYOffset}function n(){f=e(),r()}function r(){l||(requestAnimationFrame(function(){return u()}),l=!0)}function i(t){return t.getBoundingClientRect().top+f}function o(t){var e=f,n=e+h,r=i(t),o=r+t.offsetHeight,s=v.threshold/100*h;return o>=e-s&&n+s>=r}function s(t){if(b.emit("src:before",t),w&&t.hasAttribute(v.srcset))t.setAttribute("srcset",t.getAttribute(v.srcset));else{var e=g>1&&t.getAttribute(v.retina);t.setAttribute("src",e||t.getAttribute(v.normal))}b.emit("src:after",t),[v.normal,v.retina,v.srcset].forEach(function(e){return t.removeAttribute(e)}),a()}function c(t){var e=t?"addEventListener":"removeEventListener";return["scroll","resize"].forEach(function(t){return window[e](t,n)}),this}function u(){return h=window.innerHeight,m.forEach(function(t){return o(t)&&s(t)}),l=!1,this}function a(){return m=Array.prototype.slice.call(document.querySelectorAll("["+v.normal+"]")),this}var d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],f=e(),l=void 0,m=void 0,h=void 0,v={normal:d.normal||"data-normal",retina:d.retina||"data-retina",srcset:d.srcset||"data-srcset",threshold:d.threshold||0},w=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),g=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,b=t({handlers:c,check:u,update:a});return b};return e});